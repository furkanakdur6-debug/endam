<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>endam</title>

<style>
  :root{
    --pink1:#ff5f9e;
    --pink2:#ff8fb1;
    --rose:#ff4d6d;
    --soft:#fff0f5;
    --line:#ffd1df;
    --shadow: 0 10px 30px rgba(0,0,0,.08);
  }

  body { margin:0; font-family: Arial, sans-serif; background:var(--soft); overflow-x:hidden; }

  /* =========================
     GÄ°RÄ°Å / LOGIN
     ========================= */
  #giris{
    position:fixed; inset:0;
    background:linear-gradient(135deg,var(--pink1),var(--pink2));
    display:flex; justify-content:center; align-items:center;
    color:#fff; text-align:center; z-index:50;
    padding:18px;
    overflow:hidden;
  }
  #giris::before, #giris::after{
    content:"";
    position:absolute;
    width:420px; height:420px;
    border-radius:50%;
    background:radial-gradient(circle at 30% 30%, rgba(255,255,255,.35), rgba(255,255,255,0));
    opacity:.8;
    animation: blob 8s ease-in-out infinite;
  }
  #giris::before{ left:-120px; top:-120px; }
  #giris::after{ right:-140px; bottom:-140px; animation-delay:-3.5s; }
  @keyframes blob{
    0%,100%{ transform: translate(0,0) scale(1); }
    50%{ transform: translate(30px, -20px) scale(1.08); }
  }

  #giris .card{
    position:relative;
    width:min(520px, 92vw);
    background:rgba(255,255,255,.14);
    border:1px solid rgba(255,255,255,.25);
    backdrop-filter: blur(10px);
    border-radius:22px;
    padding:18px 18px 16px;
    box-shadow:0 20px 60px rgba(0,0,0,.22);
  }
  #giris img{
    width:220px; border-radius:20px; margin:8px auto 10px;
    box-shadow:0 10px 30px rgba(0,0,0,.25);
    display:block;
  }
  .login-row{ display:grid; gap:10px; margin-top:12px; }
  .inp{
    width:100%;
    box-sizing:border-box;
    padding:14px 14px;
    border-radius:14px;
    border:1px solid rgba(255,255,255,.35);
    background:rgba(255,255,255,.18);
    color:#fff;
    outline:none;
    font-size:16px;
  }
  .inp::placeholder{ color:rgba(255,255,255,.78); }

  .btn{
    padding:14px 28px; border:none; border-radius:999px;
    font-size:18px; cursor:pointer;
    transition:transform .15s, box-shadow .15s;
  }
  .btn.primary{ background:#fff; color:var(--rose); }
  .btn.primary:hover{ transform:scale(1.03); box-shadow:0 10px 24px rgba(0,0,0,.12); }
  .btn.secondary{ background:#444; color:#fff; }
  .btn.secondary:hover{ transform:scale(1.03); }

  .hint{
    margin-top:12px;
    background:rgba(255,255,255,.14);
    border:1px dashed rgba(255,255,255,.35);
    padding:12px;
    border-radius:14px;
    text-align:left;
    font-size:14px;
    line-height:1.45;
  }
  .hint b{ color:#fff; }
  .login-feedback{
    margin-top:10px;
    min-height:22px;
    font-weight:800;
  }

  /* =========================
     HOÅ GELDÄ°N EKRANI
     ========================= */
  #basardin{
    position:fixed; inset:0;
    background:linear-gradient(135deg,var(--pink1),var(--pink2));
    display:none; justify-content:center; align-items:center;
    color:#fff; text-align:center; z-index:60;
    padding:18px;
    overflow:hidden;
  }
  #basardin::before, #basardin::after{
    content:"";
    position:absolute;
    width:420px; height:420px;
    border-radius:50%;
    background:radial-gradient(circle at 30% 30%, rgba(255,255,255,.35), rgba(255,255,255,0));
    opacity:.8;
    animation: blob 8s ease-in-out infinite;
  }
  #basardin::before{ left:-120px; top:-120px; }
  #basardin::after{ right:-140px; bottom:-140px; animation-delay:-3.5s; }

  #basardin .card{
    position:relative;
    width:min(520px, 92vw);
    background:rgba(255,255,255,.14);
    border:1px solid rgba(255,255,255,.25);
    backdrop-filter: blur(10px);
    border-radius:22px;
    padding:18px;
    box-shadow:0 20px 60px rgba(0,0,0,.22);
  }
  #basardin h1{ margin:6px 0 12px; }

  /* =========================
     SÄ°TE GENEL
     ========================= */
  #site{ display:none; padding:20px; position:relative; overflow:hidden; }
  #site::before, #site::after{
    content:"";
    position:fixed;
    z-index:-2;
    inset:-40vh -40vw;
    background:
      radial-gradient(circle at 20% 20%, rgba(255,95,158,.22), rgba(255,255,255,0) 45%),
      radial-gradient(circle at 80% 30%, rgba(255,143,177,.24), rgba(255,255,255,0) 45%),
      radial-gradient(circle at 30% 80%, rgba(255,77,109,.16), rgba(255,255,255,0) 50%),
      radial-gradient(circle at 80% 80%, rgba(255,210,225,.35), rgba(255,255,255,0) 50%);
    animation: bgmove 10s ease-in-out infinite;
  }
  #site::after{
    filter: blur(10px);
    opacity:.75;
    animation-duration: 14s;
  }
  @keyframes bgmove{
    0%,100%{ transform: translate(0,0) scale(1); }
    50%{ transform: translate(2vw, -2vh) scale(1.03); }
  }

  /* uÃ§uÅŸan kalpler */
  .hearts{
    position:fixed; inset:0; z-index:-1;
    pointer-events:none; overflow:hidden;
  }
  .heart{
    position:absolute;
    font-size:14px;
    opacity:.18;
    animation: floatUp linear infinite;
  }
  @keyframes floatUp{
    from{ transform: translateY(110vh) translateX(0) rotate(0deg); }
    to{ transform: translateY(-20vh) translateX(40px) rotate(20deg); }
  }

  h1,h2,h3{ text-align:center; margin:14px 0; }
  h3{ cursor:pointer; }

  .bolum{
    max-width:900px; margin:20px auto;
    background:rgba(255,255,255,.82);
    border:1px solid rgba(255,255,255,.55);
    backdrop-filter: blur(8px);
    padding:22px; border-radius:18px; line-height:1.6;
    box-shadow: var(--shadow);
  }
  .hidden{ display:none !important; }

  /* ÃœST BAR (Geri) */
  .topbar{
    max-width:900px;
    margin:0 auto 12px;
    display:flex;
    justify-content:flex-start;
  }
  .backbtn{
    display:inline-flex;
    align-items:center;
    gap:8px;
    padding:10px 14px;
    border-radius:999px;
    border:1px solid var(--line);
    background:rgba(255,255,255,.92);
    cursor:pointer;
    font-weight:700;
    box-shadow:0 8px 18px rgba(0,0,0,.06);
    transition:transform .12s;
  }
  .backbtn:hover{ background:#fff7fb; transform: translateY(-1px); }

  /* HERO + Dashboard */
  .hero{
    max-width:900px;
    margin:0 auto 14px;
    padding:18px;
    border-radius:22px;
    background:linear-gradient(135deg, rgba(255,95,158,.18), rgba(255,143,177,.16));
    border:1px solid rgba(255,255,255,.6);
    backdrop-filter: blur(10px);
    box-shadow: var(--shadow);
    position:relative;
    overflow:hidden;
  }
  .hero::after{
    content:"";
    position:absolute; inset:-40px;
    background:
      radial-gradient(circle at 10% 20%, rgba(255,255,255,.35), rgba(255,255,255,0) 40%),
      radial-gradient(circle at 90% 10%, rgba(255,255,255,.22), rgba(255,255,255,0) 45%);
    opacity:.8;
    pointer-events:none;
  }
  .hero h2{ margin:4px 0 6px; }
  .hero p{ text-align:center; margin:0; opacity:.8; font-weight:700; }

  .dash{ display:grid; gap:12px; margin-top:12px; position:relative; z-index:1; }
  .dash-top{
    display:grid;
    grid-template-columns: 1fr 1fr;
    gap:12px;
  }
  .dash-card{
    background:rgba(255,255,255,.85);
    border:1px solid rgba(255,255,255,.6);
    border-radius:16px;
    padding:14px;
    box-shadow:0 8px 18px rgba(0,0,0,.06);
  }
  .dash-big{
    font-size:30px;
    font-weight:900;
    text-align:center;
    letter-spacing:.5px;
    color:#222;
  }
  .dash-small{
    text-align:center;
    margin-top:6px;
    opacity:.75;
    font-size:14px;
    font-weight:800;
  }
  .dash-quote{
    text-align:center;
    font-size:16px;
    font-weight:800;
    color:var(--rose);
  }
  .dash-quote-sub{
    text-align:center;
    opacity:.72;
    margin-top:6px;
    font-size:13px;
    font-weight:700;
  }
  @media (max-width:560px){
    .dash-top{ grid-template-columns: 1fr; }
  }

  /* DÃ¼nyanÄ±n En GÃ¼zeli rozet link */
  .best-badge{
    display:inline-flex;
    align-items:center;
    justify-content:center;
    gap:8px;
    margin:12px auto 0;
    padding:10px 14px;
    border-radius:999px;
    border:1px solid var(--line);
    background:rgba(255,255,255,.92);
    text-decoration:none;
    font-weight:900;
    color:var(--rose);
    box-shadow:0 10px 26px rgba(0,0,0,.07);
    position:relative;
    z-index:2;
    transition:transform .12s;
  }
  .best-badge:hover{ transform: translateY(-1px) scale(1.01); }
  .best-badge .star{
    width:28px; height:28px;
    border-radius:999px;
    background:linear-gradient(135deg, rgba(255,95,158,.25), rgba(255,143,177,.22));
    display:flex;
    align-items:center;
    justify-content:center;
    border:1px solid rgba(255,95,158,.18);
  }

  /* âœ… Ana menÃ¼ "evim ğŸ’—" simgesi */
  .home-badge{
    display:inline-flex;
    align-items:center;
    justify-content:center;
    gap:8px;
    margin:10px auto 0;
    padding:10px 14px;
    border-radius:999px;
    border:1px solid var(--line);
    background:rgba(255,255,255,.92);
    cursor:pointer;
    user-select:none;
    font-weight:900;
    color:var(--rose);
    box-shadow:0 10px 26px rgba(0,0,0,.07);
    position:relative;
    z-index:2;
    transition:transform .12s;
  }
  .home-badge:hover{ transform: translateY(-1px) scale(1.01); }
  .home-badge .ico{
    width:28px; height:28px;
    border-radius:999px;
    background:linear-gradient(135deg, rgba(255,95,158,.22), rgba(255,143,177,.18));
    display:flex; align-items:center; justify-content:center;
    border:1px solid rgba(255,95,158,.18);
  }

  /* MenÃ¼ kartlarÄ± */
  .menu-grid{
    display:grid;
    grid-template-columns:repeat(auto-fit, minmax(220px, 1fr));
    gap:14px;
    margin-top:14px;
    position:relative;
    z-index:1;
  }
  .menu-item{
    position:relative;
    border-radius:18px;
    padding:18px;
    cursor:pointer;
    user-select:none;
    overflow:hidden;
    background:rgba(255,255,255,.86);
    border:1px solid rgba(255,255,255,.65);
    backdrop-filter: blur(8px);
    box-shadow:0 10px 28px rgba(0,0,0,.07);
    transition:transform .14s, box-shadow .14s;
  }
  .menu-item::before{
    content:"";
    position:absolute;
    inset:-60px;
    background:
      radial-gradient(circle at 20% 20%, rgba(255,95,158,.22), rgba(255,255,255,0) 50%),
      radial-gradient(circle at 90% 10%, rgba(255,143,177,.18), rgba(255,255,255,0) 55%);
    opacity:.7;
    transform: rotate(8deg);
    pointer-events:none;
  }
  .menu-item:hover{
    transform: translateY(-3px);
    box-shadow:0 16px 40px rgba(0,0,0,.10);
  }
  .menu-emoji{ font-size:36px; margin-bottom:8px; position:relative; z-index:1; }
  .menu-title{ font-size:18px; font-weight:900; margin-bottom:6px; position:relative; z-index:1; }
  .menu-sub{ font-size:14px; opacity:.75; font-weight:700; position:relative; z-index:1; }

  /* FOTO */
  .gallery{
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(150px,1fr));
    gap:10px; margin-top:14px;
  }
  .gallery img{
    width:100%; border-radius:12px; cursor:pointer;
    transition:transform .15s, box-shadow .15s;
    box-shadow:0 10px 22px rgba(0,0,0,.08);
  }
  .gallery img:hover{ transform:scale(1.03); box-shadow:0 16px 34px rgba(0,0,0,.12); }

  /* LIGHTBOX */
  #lightbox{
    position:fixed; inset:0;
    background:rgba(0,0,0,.86);
    display:none; justify-content:center; align-items:center;
    z-index:80; padding:18px;
    touch-action: pan-y;
  }
  #lightbox .wrap{
    position:relative;
    width:fit-content;
    max-width:92vw;
    max-height:92vh;
  }
  #lightbox img{
    max-width:92vw; max-height:92vh; border-radius:14px;
    display:block;
    box-shadow:0 20px 70px rgba(0,0,0,.35);
  }
  .lb-btn{
    position:absolute;
    top:50%;
    transform:translateY(-50%);
    width:48px; height:48px;
    border-radius:999px;
    border:1px solid rgba(255,255,255,.25);
    background:rgba(0,0,0,.35);
    color:#fff;
    font-size:22px;
    cursor:pointer;
    display:flex;
    align-items:center;
    justify-content:center;
    user-select:none;
  }
  .lb-btn:hover{ background:rgba(0,0,0,.55); }
  .lb-prev{ left:-14px; }
  .lb-next{ right:-14px; }
  .lb-close{
    position:absolute;
    top:-12px; right:-12px;
    width:42px; height:42px;
    border-radius:999px;
    border:1px solid rgba(255,255,255,.25);
    background:rgba(0,0,0,.35);
    color:#fff;
    font-size:18px;
    cursor:pointer;
    display:flex;
    align-items:center;
    justify-content:center;
  }
  .lb-close:hover{ background:rgba(0,0,0,.55); }

  /* ÅARKILAR */
  .sarki{
    background:rgba(255,228,236,.9);
    margin:10px 0;
    padding:14px;
    border-radius:14px;
    text-align:center;
    cursor:pointer;
    user-select:none;
    border:1px solid rgba(255,255,255,.65);
    box-shadow:0 8px 18px rgba(0,0,0,.06);
    transition:transform .12s;
  }
  .sarki:hover{ transform: translateY(-1px); background:#ffd1df; }
  .sarki.active{ background:#ffb3c7; }
  audio{ width:100%; margin-top:12px; }

  /* QUIZ */
  .quiz-wrap{ max-width:720px; margin:0 auto; }
  .quiz-etiket{ text-align:center; font-size:14px; opacity:.75; margin-top:6px; }
  .quiz-soru{ text-align:center; font-size:20px; font-weight:900; margin:12px 0 10px; }
  .quiz-secenekler{ display:grid; gap:10px; margin-top:10px; }
  .quiz-btn{
    padding:14px 14px;
    border-radius:14px;
    border:1px solid var(--line);
    background:#fff;
    cursor:pointer;
    font-size:16px;
    box-shadow:0 8px 18px rgba(0,0,0,.05);
  }
  .quiz-btn:hover{ background:#fff7fb; }
  .quiz-btn:disabled{ opacity:.75; cursor:default; }
  .quiz-feedback{ text-align:center; font-weight:900; margin-top:12px; min-height:22px; }
  .quiz-kontrol{ display:flex; gap:10px; justify-content:center; margin-top:14px; flex-wrap:wrap; }
  .quiz-sonuc{ text-align:center; margin-top:14px; font-weight:900; }

  /* SENÄ°N Ä°Ã‡Ä°N */
  .soz-card{
    max-width:720px;
    margin:10px auto 0;
    background:linear-gradient(180deg,#fff, #fff7fb);
    border:1px solid var(--line);
    border-radius:22px;
    padding:22px;
    box-shadow:0 14px 40px rgba(0,0,0,.08);
    cursor:pointer;
    user-select:none;
    position:relative;
    overflow:hidden;
  }
  .soz-card::before{
    content:"";
    position:absolute;
    inset:-80px;
    background:
      radial-gradient(circle at 20% 20%, rgba(255,95,158,.18), rgba(255,255,255,0) 55%),
      radial-gradient(circle at 85% 15%, rgba(255,143,177,.18), rgba(255,255,255,0) 55%);
    opacity:.9;
    transform: rotate(8deg);
  }
  .soz-big{
    position:relative;
    text-align:center;
    font-size:20px;
    font-weight:900;
    color:var(--rose);
    line-height:1.55;
  }
  .soz-sub{
    position:relative;
    text-align:center;
    margin-top:10px;
    font-size:13px;
    opacity:.75;
    font-weight:800;
  }
  .soz-controls{
    display:flex;
    justify-content:center;
    gap:10px;
    margin-top:14px;
    flex-wrap:wrap;
  }

  /* ğŸ KÃ¼Ã§Ã¼k sÃ¼rpriz */
  .surpriz-wrap{ display:grid; gap:14px; justify-items:center; }
  .surpriz-heart{
    width:140px; height:140px; border-radius:999px;
    background:rgba(255,255,255,.9);
    border:1px solid var(--line);
    box-shadow:0 16px 40px rgba(0,0,0,.10);
    display:flex; align-items:center; justify-content:center;
    cursor:pointer; user-select:none;
    position:relative; overflow:hidden;
    transition:transform .12s;
  }
  .surpriz-heart:hover{ transform: scale(1.03); }
  .surpriz-heart::before{
    content:""; position:absolute; inset:-60px;
    background:
      radial-gradient(circle at 25% 25%, rgba(255,95,158,.22), rgba(255,255,255,0) 55%),
      radial-gradient(circle at 80% 20%, rgba(255,143,177,.18), rgba(255,255,255,0) 55%);
    opacity:.9;
  }
  .surpriz-heart span{
    position:relative;
    font-size:54px;
    animation: pulse 1.2s ease-in-out infinite;
  }
  @keyframes pulse{ 0%,100%{ transform:scale(1);} 50%{ transform:scale(1.08);} }
  .surpriz-text{ text-align:center; font-weight:900; color:#333; }
  .hazir{
    display:none;
    text-align:center;
    font-weight:900;
    color:var(--rose);
    background:rgba(255,255,255,.85);
    border:1px solid var(--line);
    border-radius:999px;
    padding:10px 14px;
    box-shadow:0 10px 26px rgba(0,0,0,.08);
  }
  .hazir.show{ display:inline-flex; align-items:center; gap:8px; }
  .hazir span{ font-size:18px; }
  .video-wrap{ width:min(780px, 100%); display:none; }
  .video-wrap video{
    width:100%;
    border-radius:18px;
    box-shadow:0 18px 50px rgba(0,0,0,.18);
    background:#000;
  }

  /* ğŸ¡ Ã‡ARK */
  .wheel-wrap{ display:grid; justify-items:center; gap:14px; }
  .wheel-stage{
    position:relative;
    width:min(340px, 86vw);
    aspect-ratio:1/1;
    display:grid;
    place-items:center;
  }
  .wheel{
    width:100%;
    height:100%;
    border-radius:50%;
    border:10px solid rgba(255,255,255,.9);
    box-shadow:0 18px 60px rgba(0,0,0,.14);
    overflow:hidden;
    transform: rotate(0deg);
    transition: transform 4.2s cubic-bezier(.1,.8,.1,1);
    background:
      conic-gradient(
        #ffd1df 0 12.5%,
        #fff7fb 12.5% 25%,
        #ffb3c7 25% 37.5%,
        #ffe4ec 37.5% 50%,
        #ffd1df 50% 62.5%,
        #fff7fb 62.5% 75%,
        #ffb3c7 75% 87.5%,
        #ffe4ec 87.5% 100%
      );
    position:relative;
  }
  .wheel-labels{ position:absolute; inset:0; pointer-events:none; }
  .wheel-label{
    position:absolute; left:50%; top:50%;
    transform-origin: 0 0;
    width:160px;
    text-align:center;
    font-weight:900;
    color:#333;
    font-size:12px;
    text-shadow:0 1px 0 rgba(255,255,255,.6);
    white-space:nowrap;
  }
  .pointer{
    position:absolute; top:-10px; left:50%;
    transform:translateX(-50%);
    width:0; height:0;
    border-left:14px solid transparent;
    border-right:14px solid transparent;
    border-bottom:26px solid var(--rose);
    filter: drop-shadow(0 8px 10px rgba(0,0,0,.18));
  }
  .wheel-center{
    position:absolute;
    width:92px; height:92px;
    border-radius:50%;
    background:rgba(255,255,255,.92);
    border:1px solid var(--line);
    box-shadow:0 12px 30px rgba(0,0,0,.10);
    display:grid;
    place-items:center;
    font-weight:900;
    color:var(--rose);
  }
  .wheel-result{
    text-align:center;
    font-weight:900;
    color:#333;
    background:rgba(255,255,255,.85);
    border:1px solid var(--line);
    border-radius:16px;
    padding:12px 14px;
    width:min(680px, 100%);
    box-shadow:0 10px 26px rgba(0,0,0,.06);
    min-height:44px;
    display:grid;
    place-items:center;
  }
  .wheel-sub{ text-align:center; opacity:.7; font-weight:800; margin-top:-6px; }

  /* ğŸ  EVÄ°M MODAL (SÃœRPRÄ°Z) */
  #homeModal{
    position:fixed; inset:0;
    background:rgba(0,0,0,.72);
    display:none;
    align-items:center;
    justify-content:center;
    z-index:140;
    padding:16px;
  }
  #homeModal .card{
    width:min(860px, 95vw);
    background:rgba(255,255,255,.94);
    border:1px solid rgba(255,255,255,.7);
    border-radius:20px;
    padding:16px;
    box-shadow:0 30px 90px rgba(0,0,0,.25);
    position:relative;
  }
  #homeModal .close{
    position:absolute;
    top:10px; right:10px;
    width:40px; height:40px;
    border-radius:999px;
    border:1px solid var(--line);
    background:#fff;
    cursor:pointer;
    font-weight:900;
  }
  #homeModal .title{
    text-align:center;
    font-size:22px;
    font-weight:900;
    color:var(--rose);
    margin:10px 0 12px;
  }
  #homeModal .sub{
    text-align:center;
    font-weight:900;
    color:#333;
    opacity:.85;
    margin-top:-6px;
    margin-bottom:10px;
  }
  #homeModal video{
    width:100%;
    border-radius:16px;
    background:#000;
    box-shadow:0 18px 50px rgba(0,0,0,.18);
    display:none;
  }
  .shake{ animation: shake .75s ease-in-out infinite; }
  @keyframes shake{
    0%,100%{ transform: translateX(0); }
    25%{ transform: translateX(-2px); }
    50%{ transform: translateX(2px); }
    75%{ transform: translateX(-1px); }
  }

  /* =========================
     ğŸ’¬ Endam Bot (SaÄŸ Alt)
     ========================= */
  #aiFab{
    position:fixed;
    right:16px;
    bottom:16px;
    width:58px;
    height:58px;
    border-radius:999px;
    border:1px solid rgba(255,255,255,.65);
    background:linear-gradient(135deg,var(--pink1),var(--pink2));
    box-shadow:0 18px 45px rgba(0,0,0,.18);
    cursor:pointer;
    display:none; /* login sonrasÄ± aÃ§Ä±lacak */
    align-items:center;
    justify-content:center;
    z-index:150;
    user-select:none;
  }
  #aiFab span{ font-size:26px; filter: drop-shadow(0 6px 10px rgba(0,0,0,.18)); }

  #aiChat{
    position:fixed;
    right:16px;
    bottom:86px;
    width:min(360px, calc(100vw - 32px));
    height:460px;
    border-radius:18px;
    background:rgba(255,255,255,.92);
    border:1px solid rgba(255,255,255,.75);
    box-shadow:0 26px 80px rgba(0,0,0,.22);
    backdrop-filter: blur(10px);
    display:none;
    overflow:hidden;
    z-index:150;
  }
  #aiChatHeader{
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:10px 12px;
    background:linear-gradient(135deg,var(--pink1),var(--pink2));
    color:#fff;
    font-weight:900;
  }
  #aiChatHeader .close{
    width:34px; height:34px;
    border-radius:999px;
    border:1px solid rgba(255,255,255,.45);
    background:rgba(0,0,0,.18);
    color:#fff;
    cursor:pointer;
    font-weight:900;
  }
  #aiChatBody{
    padding:12px;
    height:calc(460px - 56px - 64px);
    overflow:auto;
    display:flex;
    flex-direction:column;
    gap:10px;
  }
  .aiMsg{
    max-width:82%;
    padding:10px 12px;
    border-radius:14px;
    line-height:1.35;
    font-weight:800;
    font-size:14px;
    box-shadow:0 10px 22px rgba(0,0,0,.06);
    white-space:pre-wrap;
    word-wrap:break-word;
  }
  .aiUser{
    align-self:flex-end;
    background:#fff;
    border:1px solid var(--line);
    color:#222;
  }
  .aiBot{
    align-self:flex-start;
    background:rgba(255,228,236,.85);
    border:1px solid rgba(255,255,255,.75);
    color:var(--rose);
  }
  #aiChatInput{
    display:flex;
    gap:10px;
    padding:10px 12px;
    border-top:1px solid var(--line);
    background:rgba(255,255,255,.92);
  }

  /* Chat input -> login inp ile Ã§akÄ±ÅŸmasÄ±n */
  #aiInput{
    flex:1;
    padding:12px 12px;
    border-radius:14px;
    border:1px solid var(--line);
    outline:none;
    font-size:14px;
    font-weight:800;
    color:#222;
    background:#fff;
  }

  #aiSend{
    padding:12px 14px;
    border:none;
    border-radius:14px;
    cursor:pointer;
    font-weight:900;
    color:#fff;
    background:var(--rose);
    box-shadow:0 10px 22px rgba(0,0,0,.10);
  }
  #aiSend:disabled{ opacity:.7; cursor:default; }
</style>
</head>

<body>

<!-- GÄ°RÄ°Å -->
<div id="giris">
  <div class="card">
    <img src="img/giris/giris.jpg" alt="GiriÅŸ" />
    <h1>â¤ï¸ Senin iÃ§in â¤ï¸</h1>

    <div class="login-row">
      <input id="kullanici" class="inp" type="text" placeholder="KullanÄ±cÄ± adÄ±" autocomplete="off" />
      <input id="sifre" class="inp" type="password" placeholder="Åifre" inputmode="numeric" autocomplete="off" />
      <button class="btn primary" onclick="girisKontrol()">GiriÅŸ Yap</button>
    </div>

    <div class="login-feedback" id="loginFeedback"></div>

    <div class="hint">
      <div><b>Ä°pucu</b></div>
      <div>KullanÄ±cÄ± adÄ± iÃ§in: <b>Sana sÃ¶zel kullandÄ±ÄŸÄ±m isim.</b></div>
      <div>Åifre iÃ§in: <b>doÄŸum tarihim gÃ¼n ay yÄ±l ÅŸeklinde.</b></div>
    </div>
  </div>
</div>

<!-- HOÅ GELDÄ°N -->
<div id="basardin">
  <div class="card">
    <h1 id="basardinYazi">HoÅŸ geldin Endam â¤ï¸</h1>
    <button class="btn primary" onclick="siteyeGir()">Sayfaya Gir</button>
  </div>
</div>

<!-- LIGHTBOX -->
<div id="lightbox" onclick="lightboxArkaplanTik(event)">
  <div class="wrap" id="lbWrap">
    <button class="lb-close" onclick="kapatLightbox()" aria-label="Kapat">âœ•</button>
    <button class="lb-btn lb-prev" onclick="oncekiFoto()" aria-label="Ã–nceki">â€¹</button>
    <img id="lightboxImg" alt="FotoÄŸraf" />
    <button class="lb-btn lb-next" onclick="sonrakiFoto()" aria-label="Sonraki">â€º</button>
  </div>
</div>

<!-- UÃ§uÅŸan kalpler -->
<div class="hearts" id="hearts"></div>

<!-- ğŸ  EVÄ°M MODAL -->
<div id="homeModal" onclick="homeModalArkaTik(event)">
  <div class="card">
    <button class="close" onclick="homeVideoKapat()">âœ•</button>
    <div class="title">Ä°ÅŸ benim evim ğŸ’—</div>
    <div class="sub" id="homeSub">HazÄ±r mÄ±sÄ±n? ğŸ ğŸ’—</div>

    <video id="homeVideo" controls playsinline>
      <source src="video/evim.mp4" type="video/mp4">
    </video>
  </div>
</div>

<!-- SÄ°TE -->
<div id="site">

  <!-- MENÃœ -->
  <div id="menu" class="bolum">
    <div class="hero">
      <h2>ğŸ’— Bizim kÃ¼Ã§Ã¼k dÃ¼nyamÄ±z</h2>
      <p>MenÃ¼den dilediÄŸine girâ€¦ her ÅŸey burada â¤ï¸</p>

      <div class="dash">
        <div class="dash-top">
          <div class="dash-card">
            <div class="dash-big" id="saatTxt">--:--:--</div>
            <div class="dash-small" id="tarihTxt">--</div>
          </div>
          <div class="dash-card">
            <div class="dash-big" id="sayacTxt">-- gÃ¼n</div>
            <div class="dash-small">Birlikte geÃ§en zaman â¤ï¸</div>
          </div>
        </div>
        <div class="dash-card">
          <div class="dash-quote" id="sozTxt">â€œ...â€</div>
          <div class="dash-quote-sub">BugÃ¼n de seni seÃ§iyorum</div>
        </div>
      </div>

      <div style="display:flex; justify-content:center; gap:10px; flex-wrap:wrap;">
        <a class="best-badge"
           href="https://www.instagram.com/gulhorozzz?igsh=cGwydHJtNm1yeXRu"
           target="_blank" rel="noopener">
          <span class="star">âœ¨</span>
          DÃ¼nyanÄ±n En GÃ¼zeli
        </a>

        <div class="home-badge" onclick="homeSurprizBaslat()">
          <span class="ico">ğŸ </span>
          evim ğŸ’—
        </div>
      </div>
    </div>

    <div class="menu-grid">
      <div class="menu-item" onclick="sayfaAc('hikayeSayfa')">
        <div class="menu-emoji">ğŸ“–</div>
        <div class="menu-title">HikÃ¢yemiz</div>
        <div class="menu-sub">BaÅŸladÄ±ÄŸÄ± gÃ¼nden bugÃ¼ne</div>
      </div>

      <div class="menu-item" onclick="sayfaAc('fotoSayfa')">
        <div class="menu-emoji">ğŸ“¸</div>
        <div class="menu-title">FotoÄŸraflarÄ±mÄ±z</div>
        <div class="menu-sub">AlbÃ¼m albÃ¼m gezelim</div>
      </div>

      <div class="menu-item" onclick="sayfaAc('sarkiSayfa')">
        <div class="menu-emoji">ğŸµ</div>
        <div class="menu-title">ÅarkÄ±larÄ±mÄ±z</div>
        <div class="menu-sub">ÅarkÄ± bitince diÄŸerine geÃ§er</div>
      </div>

      <div class="menu-item" onclick="sayfaAc('quizSayfa')">
        <div class="menu-emoji">ğŸ’˜</div>
        <div class="menu-title">AÅŸk Testi</div>
        <div class="menu-sub">5 soruluk mini test</div>
      </div>

      <div class="menu-item" onclick="sayfaAc('sozSayfa')">
        <div class="menu-emoji">ğŸ’Œ</div>
        <div class="menu-title">Senin iÃ§in</div>
        <div class="menu-sub">10 cÃ¼mle, her tÄ±kta yenisi</div>
      </div>

      <div class="menu-item" onclick="sayfaAc('surprizSayfa')">
        <div class="menu-emoji">ğŸ</div>
        <div class="menu-title">KÃ¼Ã§Ã¼k sÃ¼rpriz</div>
        <div class="menu-sub">Kalbe dokunâ€¦</div>
      </div>

      <div class="menu-item" onclick="sayfaAc('carkSayfa')">
        <div class="menu-emoji">ğŸ¡</div>
        <div class="menu-title">Ã‡ark Oyunu</div>
        <div class="menu-sub">Ã‡evir ve gÃ¶revi yap ğŸ˜„</div>
      </div>
    </div>
  </div>

  <!-- Burada senin diÄŸer sayfalarÄ±n var (hikaye/foto/sarki/quiz/soz/surpriz/cark) -->
  <!-- DosyanÄ±n kalanÄ±nÄ± deÄŸiÅŸtirmedim; sadece JS tarafÄ±nda aiSend ve chat eklendi. -->

</div>

<script>
  /* LOGIN */
  const DOGRU_KULLANICI = "Endam";
  const DOGRU_SIFRE = "21101998";

  function girisKontrol(){
    const u = (document.getElementById("kullanici").value || "").trim();
    const p = (document.getElementById("sifre").value || "").trim();
    const fb = document.getElementById("loginFeedback");

    if(u === DOGRU_KULLANICI && p === DOGRU_SIFRE){
      fb.textContent = "";
      document.getElementById("giris").style.display = "none";
      document.getElementById("basardin").style.display = "flex";
      document.getElementById("basardinYazi").textContent = "HoÅŸ geldin Endam â¤ï¸";
    } else {
      fb.textContent = "Kalbim kÄ±rÄ±ldÄ± ğŸ’”";
    }
  }

  function siteyeGir(){
    document.getElementById("basardin").style.display = "none";
    document.getElementById("site").style.display = "block";
    if(typeof menuyeDon === "function") menuyeDon();
    if(typeof dashboardBaslat === "function") dashboardBaslat();
    if(typeof sozKartIlkYukle === "function") sozKartIlkYukle();
    if(typeof kalpAnimasyonBaslat === "function") kalpAnimasyonBaslat();
    if(typeof carkEtiketleriOlustur === "function") carkEtiketleriOlustur();
    if(typeof sarkiAutoNextKur === "function") sarkiAutoNextKur();

    // âœ… Chat ikonu login sonrasÄ± gÃ¶rÃ¼nsÃ¼n
    aiEnable();
  }

  document.addEventListener("keydown", (e) => {
    const girisAcik = document.getElementById("giris").style.display !== "none";
    const basardinAcik = document.getElementById("basardin").style.display === "flex";
    if(girisAcik && e.key === "Enter") girisKontrol();
    if(basardinAcik && e.key === "Enter") siteyeGir();

    // Chat aÃ§Ä±kken kÄ±sayollar
    if(e.key === "Escape" && aiOpen) aiClose();
    if(e.key === "Enter" && aiOpen){
      const a = document.activeElement;
      if(a && a.id === "aiInput") aiSend();
    }
  });

  /* =========================
     ğŸ’¬ Endam Bot Chat
     ========================= */
  let aiOpen = false;
  let aiWelcomed = false;

  function aiEnable(){
    const fab = document.getElementById("aiFab");
    if(fab) fab.style.display = "flex";
    aiHelloOnce();
  }

  function aiToggle(){
    const box = document.getElementById("aiChat");
    aiOpen = !aiOpen;
    if(box) box.style.display = aiOpen ? "block" : "none";
    if(aiOpen){
      setTimeout(() => document.getElementById("aiInput")?.focus(), 50);
    }
  }

  function aiClose(){
    const box = document.getElementById("aiChat");
    aiOpen = false;
    if(box) box.style.display = "none";
  }

  function aiAddMsg(text, who){
    const body = document.getElementById("aiChatBody");
    if(!body) return;
    const d = document.createElement("div");
    d.className = `aiMsg ${who === "user" ? "aiUser" : "aiBot"}`;
    d.textContent = text;
    body.appendChild(d);
    body.scrollTop = body.scrollHeight;
  }

  function aiHelloOnce(){
    if(aiWelcomed) return;
    aiWelcomed = true;
    aiAddMsg("Merhaba ğŸ’— Ben Endam Bot. Yaz banaâ€¦", "bot");
  }

  async function aiSend(){
    const inp = document.getElementById("aiInput");
    const btn = document.getElementById("aiSend");
    const msg = (inp?.value || "").trim();
    if(!msg) return;

    aiAddMsg(msg, "user");
    if(inp) inp.value = "";

    if(btn) btn.disabled = true;
    aiAddMsg("YazÄ±yorumâ€¦", "bot");

    try{
      const r = await fetch("/.netlify/functions/endam-bot", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ message: msg })
      });

      const raw = await r.text();
      let data = null;
      try { data = JSON.parse(raw); } catch { data = null; }

      // â€œYazÄ±yorumâ€¦â€ mesajÄ±nÄ± kaldÄ±r
      const body = document.getElementById("aiChatBody");
      if(body && body.lastChild) body.removeChild(body.lastChild);

      if(!r.ok){
        const errMsg =
          (data && (data.error?.message || data.error)) ||
          raw ||
          `HTTP ${r.status}`;
        aiAddMsg(`ğŸ’” Hata: ${errMsg}`, "bot");
        return;
      }

      const reply =
        (data && (data.reply || data.choices?.[0]?.message?.content)) ||
        raw ||
        "Bir ÅŸeyler ters gitti ğŸ’”";

      aiAddMsg(String(reply).trim(), "bot");
    }catch(e){
      const body = document.getElementById("aiChatBody");
      if(body && body.lastChild) body.removeChild(body.lastChild);
      aiAddMsg("ğŸ’” BaÄŸlantÄ± hatasÄ±", "bot");
    }finally{
      if(btn) btn.disabled = false;
    }
  }
</script>

<!-- ğŸ’¬ Endam Bot (SaÄŸ Alt) -->
<div id="aiFab" onclick="aiToggle()" aria-label="Endam Bot">
  <span>ğŸ’¬</span>
</div>

<div id="aiChat" aria-label="Endam Bot Chat">
  <div id="aiChatHeader">
    <div class="title">ğŸ’— Endam Bot</div>
    <button class="close" onclick="aiClose()" aria-label="Kapat">âœ•</button>
  </div>
  <div id="aiChatBody"></div>
  <div id="aiChatInput">
    <input id="aiInput" type="text" placeholder="Bir ÅŸey yaz..." autocomplete="off" />
    <button id="aiSend" onclick="aiSend()">GÃ¶nder</button>
  </div>
</div>

</body>
</html>
